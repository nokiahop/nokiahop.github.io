"use strict";(()=>{var jr=(e,t,r)=>new Promise((o,i)=>{var n=l=>{try{s(r.next(l))}catch(d){i(d)}},a=l=>{try{s(r.throw(l))}catch(d){i(d)}},s=l=>l.done?o(l.value):Promise.resolve(l.value).then(n,a);s((r=r.apply(e,t)).next())});function Xe(){}function x(e){return typeof e=="object"&&e!==null||typeof e=="function"}var Kr=Xe;function k(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(r){}}var nr=Promise,hn=Promise.resolve.bind(nr),pn=Promise.prototype.then,_n=Promise.reject.bind(nr),bn=hn;function D(e){return new nr(e)}function A(e){return D(t=>t(e))}function m(e){return _n(e)}function ie(e,t,r){return pn.call(e,t,r)}function V(e,t,r){ie(ie(e,t,r),void 0,Kr)}function xt(e,t){V(e,t)}function Gt(e,t){V(e,void 0,t)}function he(e,t,r){return ie(e,t,r)}function Ne(e){ie(e,void 0,Kr)}var Ce=e=>{if(typeof queueMicrotask=="function")Ce=queueMicrotask;else{let t=A(void 0);Ce=r=>ie(t,r)}return Ce(e)};function qe(e,t,r){if(typeof e!="function")throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function _e(e,t,r){try{return A(qe(e,t,r))}catch(o){return m(o)}}var J=class{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(t){let r=this._back,o=r;r._elements.length===16383&&(o={_elements:[],_next:void 0}),r._elements.push(t),o!==r&&(this._back=o,r._next=o),++this._size}shift(){let t=this._front,r=t,o=this._cursor,i=o+1,n=t._elements,a=n[o];return i===16384&&(r=t._next,i=0),--this._size,this._cursor=i,t!==r&&(this._front=r),n[o]=void 0,a}forEach(t){let r=this._cursor,o=this._front,i=o._elements;for(;!(r===i.length&&o._next===void 0||r===i.length&&(o=o._next,i=o._elements,r=0,i.length===0));)t(i[r]),++r}peek(){let t=this._front,r=this._cursor;return t._elements[r]}},Xr=Symbol("[[AbortSteps]]"),Zr=Symbol("[[ErrorSteps]]"),ir=Symbol("[[CancelSteps]]"),sr=Symbol("[[PullSteps]]"),ar=Symbol("[[ReleaseSteps]]");function Ur(e,t){e._ownerReadableStream=t,t._reader=e,t._state==="readable"?Kt(e):t._state==="closed"?function(r){Kt(r),to(r)}(e):eo(e,t._storedError)}function lr(e,t){return U(e._ownerReadableStream,t)}function de(e){let t=e._ownerReadableStream;t._state==="readable"?ur(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(r,o){eo(r,o)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),t._readableStreamController[ar](),t._reader=void 0,e._ownerReadableStream=void 0}function Tt(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function Kt(e){e._closedPromise=D((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r})}function eo(e,t){Kt(e),ur(e,t)}function ur(e,t){e._closedPromise_reject!==void 0&&(Ne(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function to(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}var kr=Number.isFinite||function(e){return typeof e=="number"&&isFinite(e)},mn=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function se(e,t){if(e!==void 0&&typeof(r=e)!="object"&&typeof r!="function")throw new TypeError(`${t} is not an object.`);var r}function X(e,t){if(typeof e!="function")throw new TypeError(`${t} is not a function.`)}function ro(e,t){if(!function(r){return typeof r=="object"&&r!==null||typeof r=="function"}(e))throw new TypeError(`${t} is not an object.`)}function pe(e,t,r){if(e===void 0)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function Xt(e,t,r){if(e===void 0)throw new TypeError(`${t} is required in '${r}'.`)}function cr(e){return Number(e)}function Ar(e){return e===0?0:e}function fr(e,t){let r=Number.MAX_SAFE_INTEGER,o=Number(e);if(o=Ar(o),!kr(o))throw new TypeError(`${t} is not a finite number`);if(o=function(i){return Ar(mn(i))}(o),o<0||o>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return kr(o)&&o!==0?o:0}function dr(e,t){if(!be(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Be(e){return new le(e)}function oo(e,t){e._reader._readRequests.push(t)}function hr(e,t,r){let o=e._reader._readRequests.shift();r?o._closeSteps():o._chunkSteps(t)}function kt(e){return e._reader._readRequests.length}function no(e){let t=e._reader;return t!==void 0&&!!me(t)}var le=class{constructor(t){if(pe(t,1,"ReadableStreamDefaultReader"),dr(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Ur(this,t),this._readRequests=new J}get closed(){return me(this)?this._closedPromise:m(lt("closed"))}cancel(t=void 0){return me(this)?this._ownerReadableStream===void 0?m(Tt("cancel")):lr(this,t):m(lt("cancel"))}read(){if(!me(this))return m(lt("read"));if(this._ownerReadableStream===void 0)return m(Tt("read from"));let t,r,o=D((i,n)=>{t=i,r=n});return Ze(this,{_chunkSteps:i=>t({value:i,done:!1}),_closeSteps:()=>t({value:void 0,done:!0}),_errorSteps:i=>r(i)}),o}releaseLock(){if(!me(this))throw lt("releaseLock");this._ownerReadableStream!==void 0&&function(t){de(t);let r=new TypeError("Reader was released");io(t,r)}(this)}};function me(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof le}function Ze(e,t){let r=e._ownerReadableStream;r._disturbed=!0,r._state==="closed"?t._closeSteps():r._state==="errored"?t._errorSteps(r._storedError):r._readableStreamController[sr](t)}function io(e,t){let r=e._readRequests;e._readRequests=new J,r.forEach(o=>{o._errorSteps(t)})}function lt(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}var $t,Nt,Dt;function Ve(e){return e.slice()}function so(e,t,r,o,i){new Uint8Array(e).set(new Uint8Array(r,o,i),t)}Object.defineProperties(le.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),k(le.prototype.cancel,"cancel"),k(le.prototype.read,"read"),k(le.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(le.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});var Oe=e=>(Oe=typeof e.transfer=="function"?t=>t.transfer():typeof structuredClone=="function"?t=>structuredClone(t,{transfer:[t]}):t=>t,Oe(e)),je=e=>(je=typeof e.detached=="boolean"?t=>t.detached:t=>t.byteLength===0,je(e));function ao(e,t,r){if(e.slice)return e.slice(t,r);let o=r-t,i=new ArrayBuffer(o);return so(i,0,e,t,o),i}function Je(e,t){let r=e[t];if(r!=null){if(typeof r!="function")throw new TypeError(`${String(t)} is not a function`);return r}}function Wr(e){try{let t=e.done,r=e.value;return ie(bn(r),o=>({done:t,value:o}))}catch(t){return m(t)}}var st=(Dt=($t=Symbol.asyncIterator)!==null&&$t!==void 0?$t:(Nt=Symbol.for)===null||Nt===void 0?void 0:Nt.call(Symbol,"Symbol.asyncIterator"))!==null&&Dt!==void 0?Dt:"@@asyncIterator";function lo(e,t="sync",r){if(r===void 0)if(t==="async"){if((r=Je(e,st))===void 0)return function(i){let n={next(){let a;try{a=uo(i)}catch(s){return m(s)}return Wr(a)},return(a){let s;try{let l=Je(i.iterator,"return");if(l===void 0)return A({done:!0,value:a});s=qe(l,i.iterator,[a])}catch(l){return m(l)}return x(s)?Wr(s):m(new TypeError("The iterator.return() method must return an object"))}};return{iterator:n,nextMethod:n.next,done:!1}}(lo(e,"sync",Je(e,Symbol.iterator)))}else r=Je(e,Symbol.iterator);if(r===void 0)throw new TypeError("The object is not iterable");let o=qe(r,e,[]);if(!x(o))throw new TypeError("The iterator method must return an object");return{iterator:o,nextMethod:o.next,done:!1}}function uo(e){let t=qe(e.nextMethod,e.iterator,[]);if(!x(t))throw new TypeError("The iterator.next() method must return an object");return t}var Rt=class{constructor(t,r){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=t,this._preventCancel=r}next(){let t=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?he(this._ongoingPromise,t,t):t(),this._ongoingPromise}return(t){let r=()=>this._returnSteps(t);return this._ongoingPromise=this._ongoingPromise?he(this._ongoingPromise,r,r):r(),this._ongoingPromise}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});let t=this._reader,r,o,i=D((n,a)=>{r=n,o=a});return Ze(t,{_chunkSteps:n=>{this._ongoingPromise=void 0,Ce(()=>r({value:n,done:!1}))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,de(t),r({value:void 0,done:!0})},_errorSteps:n=>{this._ongoingPromise=void 0,this._isFinished=!0,de(t),o(n)}}),i}_returnSteps(t){if(this._isFinished)return Promise.resolve({value:t,done:!0});this._isFinished=!0;let r=this._reader;if(!this._preventCancel){let o=lr(r,t);return de(r),he(o,()=>({value:t,done:!0}))}return de(r),A({value:t,done:!0})}},co={next(){return Lr(this)?this._asyncIteratorImpl.next():m(zr("next"))},return(e){return Lr(this)?this._asyncIteratorImpl.return(e):m(zr("return"))},[st](){return this}};function Lr(e){if(!x(e)||!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof Rt}catch(t){return!1}}function zr(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Object.defineProperty(co,st,{enumerable:!1});var fo=Number.isNaN||function(e){return e!=e};function Ir(e){let t=ao(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function Zt(e){let t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function pr(e,t,r){if(typeof(o=r)!="number"||fo(o)||o<0||r===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var o;e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function ge(e){e._queue=new J,e._queueTotalSize=0}function ho(e){return e===DataView}var ye=class{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Ht(this))throw Qt("view");return this._view}respond(t){if(!Ht(this))throw Qt("respond");if(pe(t,1,"respond"),t=fr(t,"First parameter"),this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(je(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");vt(this._associatedReadableByteStreamController,t)}respondWithNewView(t){if(!Ht(this))throw Qt("respondWithNewView");if(pe(t,1,"respondWithNewView"),!ArrayBuffer.isView(t))throw new TypeError("You can only respond with array buffer views");if(this._associatedReadableByteStreamController===void 0)throw new TypeError("This BYOB request has been invalidated");if(je(t.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");gt(this._associatedReadableByteStreamController,t)}};Object.defineProperties(ye.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),k(ye.prototype.respond,"respond"),k(ye.prototype.respondWithNewView,"respondWithNewView"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ye.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});var oe=class{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Pe(this))throw Ye("byobRequest");return er(this)}get desiredSize(){if(!Pe(this))throw Ye("desiredSize");return Ro(this)}close(){if(!Pe(this))throw Ye("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");let t=this._controlledReadableByteStream._state;if(t!=="readable")throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be closed`);Ge(this)}enqueue(t){if(!Pe(this))throw Ye("enqueue");if(pe(t,1,"enqueue"),!ArrayBuffer.isView(t))throw new TypeError("chunk must be an array buffer view");if(t.byteLength===0)throw new TypeError("chunk must have non-zero byteLength");if(t.buffer.byteLength===0)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");let r=this._controlledReadableByteStream._state;if(r!=="readable")throw new TypeError(`The stream (in ${r} state) is not in the readable state and cannot be enqueued to`);yt(this,t)}error(t=void 0){if(!Pe(this))throw Ye("error");K(this,t)}[ir](t){po(this),ge(this);let r=this._cancelAlgorithm(t);return At(this),r}[sr](t){let r=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void To(this,t);let o=this._autoAllocateChunkSize;if(o!==void 0){let i;try{i=new ArrayBuffer(o)}catch(a){return void t._errorSteps(a)}let n={buffer:i,bufferByteLength:o,byteOffset:0,byteLength:o,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}oo(r,t),We(this)}[ar](){if(this._pendingPullIntos.length>0){let t=this._pendingPullIntos.peek();t.readerType="none",this._pendingPullIntos=new J,this._pendingPullIntos.push(t)}}};function Pe(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof oe}function Ht(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof ye}function We(e){if(function(r){let o=r._controlledReadableByteStream;return o._state!=="readable"||r._closeRequested||!r._started?!1:!!(no(o)&&kt(o)>0||br(o)&&Co(o)>0||Ro(r)>0)}(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,V(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,We(e)),null),r=>(K(e,r),null))}}function po(e){_r(e),e._pendingPullIntos=new J}function _o(e,t){let r=!1;e._state==="closed"&&(r=!0);let o=bo(t);t.readerType==="default"?hr(e,o,r):function(i,n,a){let s=i._reader,l=s._readIntoRequests.shift();a?l._closeSteps(n):l._chunkSteps(n)}(e,o,r)}function bt(e,t){for(let r=0;r<t.length;++r)_o(e,t[r])}function bo(e){let t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function mt(e,t,r,o){e._queue.push({buffer:t,byteOffset:r,byteLength:o}),e._queueTotalSize+=o}function mo(e,t,r,o){let i;try{i=ao(t,r,r+o)}catch(n){throw K(e,n),n}mt(e,i,0,o)}function yo(e,t){t.bytesFilled>0&&mo(e,t.buffer,t.byteOffset,t.bytesFilled),Fe(e)}function vo(e,t){let r=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),o=t.bytesFilled+r,i=r,n=!1,a=o-o%t.elementSize;a>=t.minimumFill&&(i=a-t.bytesFilled,n=!0);let s=e._queue;for(;i>0;){let l=s.peek(),d=Math.min(i,l.byteLength),_=t.byteOffset+t.bytesFilled;so(t.buffer,_,l.buffer,l.byteOffset,d),l.byteLength===d?s.shift():(l.byteOffset+=d,l.byteLength-=d),e._queueTotalSize-=d,go(e,d,t),i-=d}return n}function go(e,t,r){r.bytesFilled+=t}function wo(e){e._queueTotalSize===0&&e._closeRequested?(At(e),at(e._controlledReadableByteStream)):We(e)}function _r(e){e._byobRequest!==null&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ut(e){let t=[];for(;e._pendingPullIntos.length>0&&e._queueTotalSize!==0;){let r=e._pendingPullIntos.peek();vo(e,r)&&(Fe(e),t.push(r))}return t}function yn(e,t,r,o){let i=e._controlledReadableByteStream,n=t.constructor,a=function(f){return ho(f)?1:f.BYTES_PER_ELEMENT}(n),{byteOffset:s,byteLength:l}=t,d=r*a,_;try{_=Oe(t.buffer)}catch(f){return void o._errorSteps(f)}let v={buffer:_,bufferByteLength:_.byteLength,byteOffset:s,byteLength:l,bytesFilled:0,minimumFill:d,elementSize:a,viewConstructor:n,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(v),void Br(i,o);if(i._state!=="closed"){if(e._queueTotalSize>0){if(vo(e,v)){let f=bo(v);return wo(e),void o._chunkSteps(f)}if(e._closeRequested){let f=new TypeError("Insufficient bytes to fill elements in the given buffer");return K(e,f),void o._errorSteps(f)}}e._pendingPullIntos.push(v),Br(i,o),We(e)}else{let f=new n(v.buffer,v.byteOffset,0);o._closeSteps(f)}}function So(e,t){let r=e._pendingPullIntos.peek();_r(e),e._controlledReadableByteStream._state==="closed"?function(o,i){i.readerType==="none"&&Fe(o);let n=o._controlledReadableByteStream;if(br(n)){let a=[];for(let s=0;s<Co(n);++s)a.push(Fe(o));bt(n,a)}}(e,r):function(o,i,n){if(go(0,i,n),n.readerType==="none"){yo(o,n);let l=Ut(o);return void bt(o._controlledReadableByteStream,l)}if(n.bytesFilled<n.minimumFill)return;Fe(o);let a=n.bytesFilled%n.elementSize;if(a>0){let l=n.byteOffset+n.bytesFilled;mo(o,n.buffer,l-a,a)}n.bytesFilled-=a;let s=Ut(o);_o(o._controlledReadableByteStream,n),bt(o._controlledReadableByteStream,s)}(e,t,r),We(e)}function Fe(e){return e._pendingPullIntos.shift()}function At(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Ge(e){let t=e._controlledReadableByteStream;if(!e._closeRequested&&t._state==="readable")if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){let r=e._pendingPullIntos.peek();if(r.bytesFilled%r.elementSize!=0){let o=new TypeError("Insufficient bytes to fill elements in the given buffer");throw K(e,o),o}}At(e),at(t)}}function yt(e,t){let r=e._controlledReadableByteStream;if(e._closeRequested||r._state!=="readable")return;let{buffer:o,byteOffset:i,byteLength:n}=t;if(je(o))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");let a=Oe(o);if(e._pendingPullIntos.length>0){let s=e._pendingPullIntos.peek();if(je(s.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");_r(e),s.buffer=Oe(s.buffer),s.readerType==="none"&&yo(e,s)}if(no(r))(function(s){let l=s._controlledReadableByteStream._reader;for(;l._readRequests.length>0;){if(s._queueTotalSize===0)return;To(s,l._readRequests.shift())}})(e),kt(r)===0?mt(e,a,i,n):(e._pendingPullIntos.length>0&&Fe(e),hr(r,new Uint8Array(a,i,n),!1));else if(br(r)){mt(e,a,i,n);let s=Ut(e);bt(e._controlledReadableByteStream,s)}else mt(e,a,i,n);We(e)}function K(e,t){let r=e._controlledReadableByteStream;r._state==="readable"&&(po(e),ge(e),At(e),Vo(r,t))}function To(e,t){let r=e._queue.shift();e._queueTotalSize-=r.byteLength,wo(e);let o=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(o)}function er(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){let t=e._pendingPullIntos.peek(),r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),o=Object.create(ye.prototype);(function(i,n,a){i._associatedReadableByteStreamController=n,i._view=a})(o,e,r),e._byobRequest=o}return e._byobRequest}function Ro(e){let t=e._controlledReadableByteStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function vt(e,t){let r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t!==0)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(t===0)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range")}r.buffer=Oe(r.buffer),So(e,t)}function gt(e,t){let r=e._pendingPullIntos.peek();if(e._controlledReadableByteStream._state==="closed"){if(t.byteLength!==0)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(t.byteLength===0)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(r.bytesFilled+t.byteLength>r.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");let o=t.byteLength;r.buffer=Oe(t.buffer),So(e,o)}function Po(e,t,r,o,i,n,a){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,ge(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=n,t._pullAlgorithm=o,t._cancelAlgorithm=i,t._autoAllocateChunkSize=a,t._pendingPullIntos=new J,e._readableStreamController=t,V(A(r()),()=>(t._started=!0,We(t),null),s=>(K(t,s),null))}function Qt(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Ye(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function vn(e,t){if((e=`${e}`)!="byob")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Eo(e){return new ue(e)}function Br(e,t){e._reader._readIntoRequests.push(t)}function Co(e){return e._reader._readIntoRequests.length}function br(e){let t=e._reader;return t!==void 0&&!!Ee(t)}Object.defineProperties(oe.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),k(oe.prototype.close,"close"),k(oe.prototype.enqueue,"enqueue"),k(oe.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(oe.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});var ue=class{constructor(t){if(pe(t,1,"ReadableStreamBYOBReader"),dr(t,"First parameter"),ve(t))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Pe(t._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Ur(this,t),this._readIntoRequests=new J}get closed(){return Ee(this)?this._closedPromise:m(ut("closed"))}cancel(t=void 0){return Ee(this)?this._ownerReadableStream===void 0?m(Tt("cancel")):lr(this,t):m(ut("cancel"))}read(t,r={}){if(!Ee(this))return m(ut("read"));if(!ArrayBuffer.isView(t))return m(new TypeError("view must be an array buffer view"));if(t.byteLength===0)return m(new TypeError("view must have non-zero byteLength"));if(t.buffer.byteLength===0)return m(new TypeError("view's buffer must have non-zero byteLength"));if(je(t.buffer))return m(new TypeError("view's buffer has been detached"));let o;try{o=function(l,d){var _;return se(l,d),{min:fr((_=l==null?void 0:l.min)!==null&&_!==void 0?_:1,`${d} has member 'min' that`)}}(r,"options")}catch(l){return m(l)}let i=o.min;if(i===0)return m(new TypeError("options.min must be greater than 0"));if(function(l){return ho(l.constructor)}(t)){if(i>t.byteLength)return m(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(i>t.length)return m(new RangeError("options.min must be less than or equal to view's length"));if(this._ownerReadableStream===void 0)return m(Tt("read from"));let n,a,s=D((l,d)=>{n=l,a=d});return qo(this,t,i,{_chunkSteps:l=>n({value:l,done:!1}),_closeSteps:l=>n({value:l,done:!0}),_errorSteps:l=>a(l)}),s}releaseLock(){if(!Ee(this))throw ut("releaseLock");this._ownerReadableStream!==void 0&&function(t){de(t);let r=new TypeError("Reader was released");Oo(t,r)}(this)}};function Ee(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof ue}function qo(e,t,r,o){let i=e._ownerReadableStream;i._disturbed=!0,i._state==="errored"?o._errorSteps(i._storedError):yn(i._readableStreamController,t,r,o)}function Oo(e,t){let r=e._readIntoRequests;e._readIntoRequests=new J,r.forEach(o=>{o._errorSteps(t)})}function ut(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ue(e,t){let{highWaterMark:r}=e;if(r===void 0)return t;if(fo(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Pt(e){let{size:t}=e;return t||(()=>1)}function Et(e,t){se(e,t);let r=e==null?void 0:e.highWaterMark,o=e==null?void 0:e.size;return{highWaterMark:r===void 0?void 0:cr(r),size:o===void 0?void 0:gn(o,`${t} has member 'size' that`)}}function gn(e,t){return X(e,t),r=>cr(e(r))}function wn(e,t,r){return X(e,r),o=>_e(e,t,[o])}function Sn(e,t,r){return X(e,r),()=>_e(e,t,[])}function Tn(e,t,r){return X(e,r),o=>qe(e,t,[o])}function Rn(e,t,r){return X(e,r),(o,i)=>_e(e,t,[o,i])}function jo(e,t){if(!Ie(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(ue.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),k(ue.prototype.cancel,"cancel"),k(ue.prototype.read,"read"),k(ue.prototype.releaseLock,"releaseLock"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ue.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});var ce=class{constructor(t={},r={}){t===void 0?t=null:ro(t,"First parameter");let o=Et(r,"Second parameter"),i=function(a,s){se(a,s);let l=a==null?void 0:a.abort,d=a==null?void 0:a.close,_=a==null?void 0:a.start,v=a==null?void 0:a.type,f=a==null?void 0:a.write;return{abort:l===void 0?void 0:wn(l,a,`${s} has member 'abort' that`),close:d===void 0?void 0:Sn(d,a,`${s} has member 'close' that`),start:_===void 0?void 0:Tn(_,a,`${s} has member 'start' that`),write:f===void 0?void 0:Rn(f,a,`${s} has member 'write' that`),type:v}}(t,"First parameter");if(Ao(this),i.type!==void 0)throw new RangeError("Invalid type is specified");let n=Pt(o);(function(a,s,l,d){let _=Object.create(ke.prototype),v,f,y,q;v=s.start!==void 0?()=>s.start(_):()=>{},f=s.write!==void 0?z=>s.write(z,_):()=>A(void 0),y=s.close!==void 0?()=>s.close():()=>A(void 0),q=s.abort!==void 0?z=>s.abort(z):()=>A(void 0),Mo(a,_,v,f,y,q,l,d)})(this,i,Ue(o,1),n)}get locked(){if(!Ie(this))throw ft("locked");return Me(this)}abort(t=void 0){return Ie(this)?Me(this)?m(new TypeError("Cannot abort a stream that already has a writer")):Ct(this,t):m(ft("abort"))}close(){return Ie(this)?Me(this)?m(new TypeError("Cannot close a stream that already has a writer")):ae(this)?m(new TypeError("Cannot close an already-closing stream")):Wo(this):m(ft("close"))}getWriter(){if(!Ie(this))throw ft("getWriter");return ko(this)}};function ko(e){return new re(e)}function Ao(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new J,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ie(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof ce}function Me(e){return e._writer!==void 0}function Ct(e,t){var r;if(e._state==="closed"||e._state==="errored")return A(void 0);e._writableStreamController._abortReason=t,(r=e._writableStreamController._abortController)===null||r===void 0||r.abort(t);let o=e._state;if(o==="closed"||o==="errored")return A(void 0);if(e._pendingAbortRequest!==void 0)return e._pendingAbortRequest._promise;let i=!1;o==="erroring"&&(i=!0,t=void 0);let n=D((a,s)=>{e._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:s,_reason:t,_wasAlreadyErroring:i}});return e._pendingAbortRequest._promise=n,i||mr(e,t),n}function Wo(e){let t=e._state;if(t==="closed"||t==="errored")return m(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));let r=D((n,a)=>{let s={_resolve:n,_reject:a};e._closeRequest=s}),o=e._writer;var i;return o!==void 0&&e._backpressure&&t==="writable"&&Sr(o),pr(i=e._writableStreamController,Fo,0),Wt(i),r}function tr(e,t){e._state!=="writable"?yr(e):mr(e,t)}function mr(e,t){let r=e._writableStreamController;e._state="erroring",e._storedError=t;let o=e._writer;o!==void 0&&zo(o,t),!function(i){return!(i._inFlightWriteRequest===void 0&&i._inFlightCloseRequest===void 0)}(e)&&r._started&&yr(e)}function yr(e){e._state="errored",e._writableStreamController[Zr]();let t=e._storedError;if(e._writeRequests.forEach(o=>{o._reject(t)}),e._writeRequests=new J,e._pendingAbortRequest===void 0)return void ct(e);let r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void ct(e);V(e._writableStreamController[Xr](r._reason),()=>(r._resolve(),ct(e),null),o=>(r._reject(o),ct(e),null))}function ae(e){return e._closeRequest!==void 0||e._inFlightCloseRequest!==void 0}function ct(e){e._closeRequest!==void 0&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);let t=e._writer;t!==void 0&&wr(t,e._storedError)}function vr(e,t){let r=e._writer;r!==void 0&&t!==e._backpressure&&(t?function(o){Lt(o)}(r):Sr(r)),e._backpressure=t}Object.defineProperties(ce.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),k(ce.prototype.abort,"abort"),k(ce.prototype.close,"close"),k(ce.prototype.getWriter,"getWriter"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ce.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});var re=class{constructor(t){if(pe(t,1,"WritableStreamDefaultWriter"),jo(t,"First parameter"),Me(t))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=t,t._writer=this;let r=t._state;if(r==="writable")!ae(t)&&t._backpressure?Lt(this):Fr(this),wt(this);else if(r==="erroring")rr(this,t._storedError),wt(this);else if(r==="closed")Fr(this),wt(o=this),Do(o);else{let i=t._storedError;rr(this,i),No(this,i)}var o}get closed(){return Se(this)?this._closedPromise:m(Te("closed"))}get desiredSize(){if(!Se(this))throw Te("desiredSize");if(this._ownerWritableStream===void 0)throw Ke("desiredSize");return function(t){let r=t._ownerWritableStream,o=r._state;return o==="errored"||o==="erroring"?null:o==="closed"?0:xo(r._writableStreamController)}(this)}get ready(){return Se(this)?this._readyPromise:m(Te("ready"))}abort(t=void 0){return Se(this)?this._ownerWritableStream===void 0?m(Ke("abort")):function(r,o){return Ct(r._ownerWritableStream,o)}(this,t):m(Te("abort"))}close(){if(!Se(this))return m(Te("close"));let t=this._ownerWritableStream;return t===void 0?m(Ke("close")):ae(t)?m(new TypeError("Cannot close an already-closing stream")):Lo(this)}releaseLock(){if(!Se(this))throw Te("releaseLock");this._ownerWritableStream!==void 0&&Io(this)}write(t=void 0){return Se(this)?this._ownerWritableStream===void 0?m(Ke("write to")):Bo(this,t):m(Te("write"))}};function Se(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof re}function Lo(e){return Wo(e._ownerWritableStream)}function Pn(e,t){e._closedPromiseState==="pending"?wr(e,t):function(r,o){No(r,o)}(e,t)}function zo(e,t){e._readyPromiseState==="pending"?Ho(e,t):function(r,o){rr(r,o)}(e,t)}function Io(e){let t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");zo(e,r),Pn(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Bo(e,t){let r=e._ownerWritableStream,o=r._writableStreamController,i=function(s,l){if(s._strategySizeAlgorithm===void 0)return 1;try{return s._strategySizeAlgorithm(l)}catch(d){return et(s,d),1}}(o,t);if(r!==e._ownerWritableStream)return m(Ke("write to"));let n=r._state;if(n==="errored")return m(r._storedError);if(ae(r)||n==="closed")return m(new TypeError("The stream is closing or closed and cannot be written to"));if(n==="erroring")return m(r._storedError);let a=function(s){return D((l,d)=>{let _={_resolve:l,_reject:d};s._writeRequests.push(_)})}(r);return function(s,l,d){try{pr(s,l,d)}catch(v){return void et(s,v)}let _=s._controlledWritableStream;!ae(_)&&_._state==="writable"&&vr(_,gr(s)),Wt(s)}(o,t,i),a}Object.defineProperties(re.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),k(re.prototype.abort,"abort"),k(re.prototype.close,"close"),k(re.prototype.releaseLock,"releaseLock"),k(re.prototype.write,"write"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(re.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});var Fo={},ke=class{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!Yt(this))throw Vt("abortReason");return this._abortReason}get signal(){if(!Yt(this))throw Vt("signal");if(this._abortController===void 0)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(t=void 0){if(!Yt(this))throw Vt("error");this._controlledWritableStream._state==="writable"&&$o(this,t)}[Xr](t){let r=this._abortAlgorithm(t);return qt(this),r}[Zr](){ge(this)}};function Yt(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof ke}function Mo(e,t,r,o,i,n,a,s){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,ge(t),t._abortReason=void 0,t._abortController=function(){if(typeof AbortController=="function")return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._writeAlgorithm=o,t._closeAlgorithm=i,t._abortAlgorithm=n;let l=gr(t);vr(e,l),V(A(r()),()=>(t._started=!0,Wt(t),null),d=>(t._started=!0,tr(e,d),null))}function qt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function xo(e){return e._strategyHWM-e._queueTotalSize}function Wt(e){let t=e._controlledWritableStream;if(!e._started||t._inFlightWriteRequest!==void 0)return;if(t._state==="erroring")return void yr(t);if(e._queue.length===0)return;let r=e._queue.peek().value;r===Fo?function(o){let i=o._controlledWritableStream;(function(a){a._inFlightCloseRequest=a._closeRequest,a._closeRequest=void 0})(i),Zt(o);let n=o._closeAlgorithm();qt(o),V(n,()=>(function(a){a._inFlightCloseRequest._resolve(void 0),a._inFlightCloseRequest=void 0,a._state==="erroring"&&(a._storedError=void 0,a._pendingAbortRequest!==void 0&&(a._pendingAbortRequest._resolve(),a._pendingAbortRequest=void 0)),a._state="closed";let s=a._writer;s!==void 0&&Do(s)}(i),null),a=>(function(s,l){s._inFlightCloseRequest._reject(l),s._inFlightCloseRequest=void 0,s._pendingAbortRequest!==void 0&&(s._pendingAbortRequest._reject(l),s._pendingAbortRequest=void 0),tr(s,l)}(i,a),null))}(e):function(o,i){let n=o._controlledWritableStream;(function(s){s._inFlightWriteRequest=s._writeRequests.shift()})(n);let a=o._writeAlgorithm(i);V(a,()=>{(function(l){l._inFlightWriteRequest._resolve(void 0),l._inFlightWriteRequest=void 0})(n);let s=n._state;if(Zt(o),!ae(n)&&s==="writable"){let l=gr(o);vr(n,l)}return Wt(o),null},s=>(n._state==="writable"&&qt(o),function(l,d){l._inFlightWriteRequest._reject(d),l._inFlightWriteRequest=void 0,tr(l,d)}(n,s),null))}(e,r)}function et(e,t){e._controlledWritableStream._state==="writable"&&$o(e,t)}function gr(e){return xo(e)<=0}function $o(e,t){let r=e._controlledWritableStream;qt(e),mr(r,t)}function ft(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Vt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Te(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Ke(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function wt(e){e._closedPromise=D((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"})}function No(e,t){wt(e),wr(e,t)}function wr(e,t){e._closedPromise_reject!==void 0&&(Ne(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function Do(e){e._closedPromise_resolve!==void 0&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function Lt(e){e._readyPromise=D((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r}),e._readyPromiseState="pending"}function rr(e,t){Lt(e),Ho(e,t)}function Fr(e){Lt(e),Sr(e)}function Ho(e,t){e._readyPromise_reject!==void 0&&(Ne(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Sr(e){e._readyPromise_resolve!==void 0&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(ke.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ke.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});var Mr=typeof globalThis!="undefined"?globalThis:typeof self!="undefined"?self:typeof global!="undefined"?global:void 0,En=function(){let e=Mr==null?void 0:Mr.DOMException;return function(t){if(typeof t!="function"&&typeof t!="object"||t.name!=="DOMException")return!1;try{return new t,!0}catch(r){return!1}}(e)?e:void 0}()||function(){let e=function(t,r){this.message=t||"",this.name=r||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return k(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function xr(e,t,r,o,i,n){let a=Be(e),s=ko(t);e._disturbed=!0;let l=!1,d=A(void 0);return D((_,v)=>{let f;if(n!==void 0){if(f=()=>{let w=n.reason!==void 0?n.reason:new En("Aborted","AbortError"),B=[];o||B.push(()=>t._state==="writable"?Ct(t,w):A(void 0)),i||B.push(()=>e._state==="readable"?U(e,w):A(void 0)),E(()=>Promise.all(B.map(R=>R())),!0,w)},n.aborted)return void f();n.addEventListener("abort",f)}var y,q,z;if(M(e,a._closedPromise,w=>(o?S(!0,w):E(()=>Ct(t,w),!0,w),null)),M(t,s._closedPromise,w=>(i?S(!0,w):E(()=>U(e,w),!0,w),null)),y=e,q=a._closedPromise,z=()=>(r?S():E(()=>function(w){let B=w._ownerWritableStream,R=B._state;return ae(B)||R==="closed"?A(void 0):R==="errored"?m(B._storedError):Lo(w)}(s)),null),y._state==="closed"?z():xt(q,z),ae(t)||t._state==="closed"){let w=new TypeError("the destination writable stream closed before all data could be piped to it");i?S(!0,w):E(()=>U(e,w),!0,w)}function $(){let w=d;return ie(d,()=>w!==d?$():void 0)}function M(w,B,R){w._state==="errored"?R(w._storedError):Gt(B,R)}function E(w,B,R){function P(){return V(w(),()=>C(B,R),g=>C(!0,g)),null}l||(l=!0,t._state!=="writable"||ae(t)?P():xt($(),P))}function S(w,B){l||(l=!0,t._state!=="writable"||ae(t)?C(w,B):xt($(),()=>C(w,B)))}function C(w,B){return Io(s),de(a),n!==void 0&&n.removeEventListener("abort",f),w?v(B):_(void 0),null}Ne(D((w,B)=>{(function R(P){P?w():ie(l?A(!0):ie(s._readyPromise,()=>D((g,W)=>{Ze(a,{_chunkSteps:T=>{d=ie(Bo(s,T),void 0,Xe),g(!1)},_closeSteps:()=>g(!0),_errorSteps:W})})),R,B)})(!1)}))})}var ne=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!dt(this))throw ht("desiredSize");return Tr(this)}close(){if(!dt(this))throw ht("close");if(!$e(this))throw new TypeError("The stream is not in a state that permits close");Ae(this)}enqueue(t=void 0){if(!dt(this))throw ht("enqueue");if(!$e(this))throw new TypeError("The stream is not in a state that permits enqueue");return xe(this,t)}error(t=void 0){if(!dt(this))throw ht("error");ee(this,t)}[ir](t){ge(this);let r=this._cancelAlgorithm(t);return Ot(this),r}[sr](t){let r=this._controlledReadableStream;if(this._queue.length>0){let o=Zt(this);this._closeRequested&&this._queue.length===0?(Ot(this),at(r)):tt(this),t._chunkSteps(o)}else oo(r,t),tt(this)}[ar](){}};function dt(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof ne}function tt(e){if(Qo(e)){if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0,V(e._pullAlgorithm(),()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,tt(e)),null),t=>(ee(e,t),null))}}function Qo(e){let t=e._controlledReadableStream;return!$e(e)||!e._started?!1:ve(t)&&kt(t)>0?!0:Tr(e)>0}function Ot(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Ae(e){if(!$e(e))return;let t=e._controlledReadableStream;e._closeRequested=!0,e._queue.length===0&&(Ot(e),at(t))}function xe(e,t){if(!$e(e))return;let r=e._controlledReadableStream;if(ve(r)&&kt(r)>0)hr(r,t,!1);else{let o;try{o=e._strategySizeAlgorithm(t)}catch(i){throw ee(e,i),i}try{pr(e,t,o)}catch(i){throw ee(e,i),i}}tt(e)}function ee(e,t){let r=e._controlledReadableStream;r._state==="readable"&&(ge(e),Ot(e),Vo(r,t))}function Tr(e){let t=e._controlledReadableStream._state;return t==="errored"?null:t==="closed"?0:e._strategyHWM-e._queueTotalSize}function $e(e){let t=e._controlledReadableStream._state;return!e._closeRequested&&t==="readable"}function Yo(e,t,r,o,i,n,a){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,ge(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=a,t._strategyHWM=n,t._pullAlgorithm=o,t._cancelAlgorithm=i,e._readableStreamController=t,V(A(r()),()=>(t._started=!0,tt(t),null),s=>(ee(t,s),null))}function ht(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Cn(e,t){return Pe(e._readableStreamController)?function(r){let o,i,n,a,s,l=Be(r),d=!1,_=!1,v=!1,f=!1,y=!1,q=D(R=>{s=R});function z(R){Gt(R._closedPromise,P=>(R!==l||(K(n._readableStreamController,P),K(a._readableStreamController,P),f&&y||s(void 0)),null))}function $(){Ee(l)&&(de(l),l=Be(r),z(l)),Ze(l,{_chunkSteps:R=>{Ce(()=>{_=!1,v=!1;let P=R,g=R;if(!f&&!y)try{g=Ir(R)}catch(W){return K(n._readableStreamController,W),K(a._readableStreamController,W),void s(U(r,W))}f||yt(n._readableStreamController,P),y||yt(a._readableStreamController,g),d=!1,_?E():v&&S()})},_closeSteps:()=>{d=!1,f||Ge(n._readableStreamController),y||Ge(a._readableStreamController),n._readableStreamController._pendingPullIntos.length>0&&vt(n._readableStreamController,0),a._readableStreamController._pendingPullIntos.length>0&&vt(a._readableStreamController,0),f&&y||s(void 0)},_errorSteps:()=>{d=!1}})}function M(R,P){me(l)&&(de(l),l=Eo(r),z(l));let g=P?a:n,W=P?n:a;qo(l,R,1,{_chunkSteps:T=>{Ce(()=>{_=!1,v=!1;let L=P?y:f;if(P?f:y)L||gt(g._readableStreamController,T);else{let Q;try{Q=Ir(T)}catch(F){return K(g._readableStreamController,F),K(W._readableStreamController,F),void s(U(r,F))}L||gt(g._readableStreamController,T),yt(W._readableStreamController,Q)}d=!1,_?E():v&&S()})},_closeSteps:T=>{d=!1;let L=P?y:f,Q=P?f:y;L||Ge(g._readableStreamController),Q||Ge(W._readableStreamController),T!==void 0&&(L||gt(g._readableStreamController,T),!Q&&W._readableStreamController._pendingPullIntos.length>0&&vt(W._readableStreamController,0)),L&&Q||s(void 0)},_errorSteps:()=>{d=!1}})}function E(){if(d)return _=!0,A(void 0);d=!0;let R=er(n._readableStreamController);return R===null?$():M(R._view,!1),A(void 0)}function S(){if(d)return v=!0,A(void 0);d=!0;let R=er(a._readableStreamController);return R===null?$():M(R._view,!0),A(void 0)}function C(R){if(f=!0,o=R,y){let P=Ve([o,i]),g=U(r,P);s(g)}return q}function w(R){if(y=!0,i=R,f){let P=Ve([o,i]),g=U(r,P);s(g)}return q}function B(){}return n=Nr(B,E,C),a=Nr(B,S,w),z(l),[n,a]}(e):function(r,o){let i=Be(r),n,a,s,l,d,_=!1,v=!1,f=!1,y=!1,q=D(S=>{d=S});function z(){return _?(v=!0,A(void 0)):(_=!0,Ze(i,{_chunkSteps:S=>{Ce(()=>{v=!1;let C=S,w=S;f||xe(s._readableStreamController,C),y||xe(l._readableStreamController,w),_=!1,v&&z()})},_closeSteps:()=>{_=!1,f||Ae(s._readableStreamController),y||Ae(l._readableStreamController),f&&y||d(void 0)},_errorSteps:()=>{_=!1}}),A(void 0))}function $(S){if(f=!0,n=S,y){let C=Ve([n,a]),w=U(r,C);d(w)}return q}function M(S){if(y=!0,a=S,f){let C=Ve([n,a]),w=U(r,C);d(w)}return q}function E(){}return s=rt(E,z,$),l=rt(E,z,M),Gt(i._closedPromise,S=>(ee(s._readableStreamController,S),ee(l._readableStreamController,S),f&&y||d(void 0),null)),[s,l]}(e)}function qn(e){return x(t=e)&&t.getReader!==void 0?function(r){let o;function i(){let a;try{a=r.read()}catch(s){return m(s)}return he(a,s=>{if(!x(s))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(s.done)Ae(o._readableStreamController);else{let l=s.value;xe(o._readableStreamController,l)}})}function n(a){try{return A(r.cancel(a))}catch(s){return m(s)}}return o=rt(Xe,i,n,0),o}(e.getReader()):function(r){let o,i=lo(r,"async");function n(){let s;try{s=uo(i)}catch(l){return m(l)}return he(A(s),l=>{if(!x(l))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");if(l.done)Ae(o._readableStreamController);else{let d=l.value;xe(o._readableStreamController,d)}})}function a(s){let l=i.iterator,d;try{d=Je(l,"return")}catch(_){return m(_)}return d===void 0?A(void 0):he(_e(d,l,[s]),_=>{if(!x(_))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")})}return o=rt(Xe,n,a,0),o}(e);var t}function On(e,t,r){return X(e,r),o=>_e(e,t,[o])}function jn(e,t,r){return X(e,r),o=>_e(e,t,[o])}function kn(e,t,r){return X(e,r),o=>qe(e,t,[o])}function An(e,t){if((e=`${e}`)!="bytes")throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function $r(e,t){se(e,t);let r=e==null?void 0:e.preventAbort,o=e==null?void 0:e.preventCancel,i=e==null?void 0:e.preventClose,n=e==null?void 0:e.signal;return n!==void 0&&function(a,s){if(!function(l){if(typeof l!="object"||l===null)return!1;try{return typeof l.aborted=="boolean"}catch(d){return!1}}(a))throw new TypeError(`${s} is not an AbortSignal.`)}(n,`${t} has member 'signal' that`),{preventAbort:!!r,preventCancel:!!o,preventClose:!!i,signal:n}}Object.defineProperties(ne.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),k(ne.prototype.close,"close"),k(ne.prototype.enqueue,"enqueue"),k(ne.prototype.error,"error"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ne.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});var N=class{constructor(t={},r={}){t===void 0?t=null:ro(t,"First parameter");let o=Et(r,"Second parameter"),i=function(n,a){se(n,a);let s=n,l=s==null?void 0:s.autoAllocateChunkSize,d=s==null?void 0:s.cancel,_=s==null?void 0:s.pull,v=s==null?void 0:s.start,f=s==null?void 0:s.type;return{autoAllocateChunkSize:l===void 0?void 0:fr(l,`${a} has member 'autoAllocateChunkSize' that`),cancel:d===void 0?void 0:On(d,s,`${a} has member 'cancel' that`),pull:_===void 0?void 0:jn(_,s,`${a} has member 'pull' that`),start:v===void 0?void 0:kn(v,s,`${a} has member 'start' that`),type:f===void 0?void 0:An(f,`${a} has member 'type' that`)}}(t,"First parameter");if(Rr(this),i.type==="bytes"){if(o.size!==void 0)throw new RangeError("The strategy for a byte stream cannot have a size function");(function(n,a,s){let l=Object.create(oe.prototype),d,_,v;d=a.start!==void 0?()=>a.start(l):()=>{},_=a.pull!==void 0?()=>a.pull(l):()=>A(void 0),v=a.cancel!==void 0?y=>a.cancel(y):()=>A(void 0);let f=a.autoAllocateChunkSize;if(f===0)throw new TypeError("autoAllocateChunkSize must be greater than 0");Po(n,l,d,_,v,s,f)})(this,i,Ue(o,0))}else{let n=Pt(o);(function(a,s,l,d){let _=Object.create(ne.prototype),v,f,y;v=s.start!==void 0?()=>s.start(_):()=>{},f=s.pull!==void 0?()=>s.pull(_):()=>A(void 0),y=s.cancel!==void 0?q=>s.cancel(q):()=>A(void 0),Yo(a,_,v,f,y,l,d)})(this,i,Ue(o,1),n)}}get locked(){if(!be(this))throw Re("locked");return ve(this)}cancel(t=void 0){return be(this)?ve(this)?m(new TypeError("Cannot cancel a stream that already has a reader")):U(this,t):m(Re("cancel"))}getReader(t=void 0){if(!be(this))throw Re("getReader");return function(r,o){se(r,o);let i=r==null?void 0:r.mode;return{mode:i===void 0?void 0:vn(i,`${o} has member 'mode' that`)}}(t,"First parameter").mode===void 0?Be(this):Eo(this)}pipeThrough(t,r={}){if(!be(this))throw Re("pipeThrough");pe(t,1,"pipeThrough");let o=function(n,a){se(n,a);let s=n==null?void 0:n.readable;Xt(s,"readable","ReadableWritablePair"),dr(s,`${a} has member 'readable' that`);let l=n==null?void 0:n.writable;return Xt(l,"writable","ReadableWritablePair"),jo(l,`${a} has member 'writable' that`),{readable:s,writable:l}}(t,"First parameter"),i=$r(r,"Second parameter");if(ve(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Me(o.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return Ne(xr(this,o.writable,i.preventClose,i.preventAbort,i.preventCancel,i.signal)),o.readable}pipeTo(t,r={}){if(!be(this))return m(Re("pipeTo"));if(t===void 0)return m("Parameter 1 is required in 'pipeTo'.");if(!Ie(t))return m(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let o;try{o=$r(r,"Second parameter")}catch(i){return m(i)}return ve(this)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Me(t)?m(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):xr(this,t,o.preventClose,o.preventAbort,o.preventCancel,o.signal)}tee(){if(!be(this))throw Re("tee");return Ve(Cn(this))}values(t=void 0){if(!be(this))throw Re("values");return function(r,o){let i=Be(r),n=new Rt(i,o),a=Object.create(co);return a._asyncIteratorImpl=n,a}(this,function(r,o){return se(r,o),{preventCancel:!!(r==null?void 0:r.preventCancel)}}(t,"First parameter").preventCancel)}[st](t){return this.values(t)}static from(t){return qn(t)}};function rt(e,t,r,o=1,i=()=>1){let n=Object.create(N.prototype);return Rr(n),Yo(n,Object.create(ne.prototype),e,t,r,o,i),n}function Nr(e,t,r){let o=Object.create(N.prototype);return Rr(o),Po(o,Object.create(oe.prototype),e,t,r,0,void 0),o}function Rr(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function be(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof N}function ve(e){return e._reader!==void 0}function U(e,t){if(e._disturbed=!0,e._state==="closed")return A(void 0);if(e._state==="errored")return m(e._storedError);at(e);let r=e._reader;if(r!==void 0&&Ee(r)){let o=r._readIntoRequests;r._readIntoRequests=new J,o.forEach(i=>{i._closeSteps(void 0)})}return he(e._readableStreamController[ir](t),Xe)}function at(e){e._state="closed";let t=e._reader;if(t!==void 0&&(to(t),me(t))){let r=t._readRequests;t._readRequests=new J,r.forEach(o=>{o._closeSteps()})}}function Vo(e,t){e._state="errored",e._storedError=t;let r=e._reader;r!==void 0&&(ur(r,t),me(r)?io(r,t):Oo(r,t))}function Re(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Jo(e,t){se(e,t);let r=e==null?void 0:e.highWaterMark;return Xt(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:cr(r)}}Object.defineProperties(N,{from:{enumerable:!0}}),Object.defineProperties(N.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),k(N.from,"from"),k(N.prototype.cancel,"cancel"),k(N.prototype.getReader,"getReader"),k(N.prototype.pipeThrough,"pipeThrough"),k(N.prototype.pipeTo,"pipeTo"),k(N.prototype.tee,"tee"),k(N.prototype.values,"values"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(N.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(N.prototype,st,{value:N.prototype.values,writable:!0,configurable:!0});var Go=e=>e.byteLength;k(Go,"size");var ot=class{constructor(t){pe(t,1,"ByteLengthQueuingStrategy"),t=Jo(t,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Hr(this))throw Dr("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Hr(this))throw Dr("size");return Go}};function Dr(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Hr(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof ot}Object.defineProperties(ot.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(ot.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});var Ko=()=>1;k(Ko,"size");var nt=class{constructor(t){pe(t,1,"CountQueuingStrategy"),t=Jo(t,"First parameter"),this._countQueuingStrategyHighWaterMark=t.highWaterMark}get highWaterMark(){if(!Yr(this))throw Qr("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Yr(this))throw Qr("size");return Ko}};function Qr(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Yr(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof nt}function Wn(e,t,r){return X(e,r),o=>_e(e,t,[o])}function Ln(e,t,r){return X(e,r),o=>qe(e,t,[o])}function zn(e,t,r){return X(e,r),(o,i)=>_e(e,t,[o,i])}function In(e,t,r){return X(e,r),o=>_e(e,t,[o])}Object.defineProperties(nt.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(nt.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});var it=class{constructor(t={},r={},o={}){t===void 0&&(t=null);let i=Et(r,"Second parameter"),n=Et(o,"Third parameter"),a=function(f,y){se(f,y);let q=f==null?void 0:f.cancel,z=f==null?void 0:f.flush,$=f==null?void 0:f.readableType,M=f==null?void 0:f.start,E=f==null?void 0:f.transform,S=f==null?void 0:f.writableType;return{cancel:q===void 0?void 0:In(q,f,`${y} has member 'cancel' that`),flush:z===void 0?void 0:Wn(z,f,`${y} has member 'flush' that`),readableType:$,start:M===void 0?void 0:Ln(M,f,`${y} has member 'start' that`),transform:E===void 0?void 0:zn(E,f,`${y} has member 'transform' that`),writableType:S}}(t,"First parameter");if(a.readableType!==void 0)throw new RangeError("Invalid readableType specified");if(a.writableType!==void 0)throw new RangeError("Invalid writableType specified");let s=Ue(n,0),l=Pt(n),d=Ue(i,1),_=Pt(i),v;(function(f,y,q,z,$,M){function E(){return y}function S(P){return function(g,W){let T=g._transformStreamController;return g._backpressure?he(g._backpressureChangePromise,()=>{let L=g._writable;if(L._state==="erroring")throw L._storedError;return Jr(T,W)}):Jr(T,W)}(f,P)}function C(P){return function(g,W){let T=g._transformStreamController;if(T._finishPromise!==void 0)return T._finishPromise;let L=g._readable;T._finishPromise=D((F,Le)=>{T._finishPromise_resolve=F,T._finishPromise_reject=Le});let Q=T._cancelAlgorithm(W);return St(T),V(Q,()=>(L._state==="errored"?ze(T,L._storedError):(ee(L._readableStreamController,W),Jt(T)),null),F=>(ee(L._readableStreamController,F),ze(T,F),null)),T._finishPromise}(f,P)}function w(){return function(P){let g=P._transformStreamController;if(g._finishPromise!==void 0)return g._finishPromise;let W=P._readable;g._finishPromise=D((L,Q)=>{g._finishPromise_resolve=L,g._finishPromise_reject=Q});let T=g._flushAlgorithm();return St(g),V(T,()=>(W._state==="errored"?ze(g,W._storedError):(Ae(W._readableStreamController),Jt(g)),null),L=>(ee(W._readableStreamController,L),ze(g,L),null)),g._finishPromise}(f)}function B(){return function(P){return jt(P,!1),P._backpressureChangePromise}(f)}function R(P){return function(g,W){let T=g._transformStreamController;if(T._finishPromise!==void 0)return T._finishPromise;let L=g._writable;T._finishPromise=D((F,Le)=>{T._finishPromise_resolve=F,T._finishPromise_reject=Le});let Q=T._cancelAlgorithm(W);return St(T),V(Q,()=>(L._state==="errored"?ze(T,L._storedError):(et(L._writableStreamController,W),or(g),Jt(T)),null),F=>(et(L._writableStreamController,F),or(g),ze(T,F),null)),T._finishPromise}(f,P)}f._writable=function(P,g,W,T,L=1,Q=()=>1){let F=Object.create(ce.prototype);return Ao(F),Mo(F,Object.create(ke.prototype),P,g,W,T,L,Q),F}(E,S,w,C,q,z),f._readable=rt(E,B,R,$,M),f._backpressure=void 0,f._backpressureChangePromise=void 0,f._backpressureChangePromise_resolve=void 0,jt(f,!0),f._transformStreamController=void 0})(this,D(f=>{v=f}),d,_,s,l),function(f,y){let q=Object.create(fe.prototype),z,$,M;z=y.transform!==void 0?E=>y.transform(E,q):E=>{try{return Zo(q,E),A(void 0)}catch(S){return m(S)}},$=y.flush!==void 0?()=>y.flush(q):()=>A(void 0),M=y.cancel!==void 0?E=>y.cancel(E):()=>A(void 0),function(E,S,C,w,B){S._controlledTransformStream=E,E._transformStreamController=S,S._transformAlgorithm=C,S._flushAlgorithm=w,S._cancelAlgorithm=B,S._finishPromise=void 0,S._finishPromise_resolve=void 0,S._finishPromise_reject=void 0}(f,q,z,$,M)}(this,a),a.start!==void 0?v(a.start(this._transformStreamController)):v(void 0)}get readable(){if(!Vr(this))throw Gr("readable");return this._readable}get writable(){if(!Vr(this))throw Gr("writable");return this._writable}};function Vr(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof it}function Xo(e,t){ee(e._readable._readableStreamController,t),Pr(e,t)}function Pr(e,t){St(e._transformStreamController),et(e._writable._writableStreamController,t),or(e)}function or(e){e._backpressure&&jt(e,!1)}function jt(e,t){e._backpressureChangePromise!==void 0&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=D(r=>{e._backpressureChangePromise_resolve=r}),e._backpressure=t}Object.defineProperties(it.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(it.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});var fe=class{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!pt(this))throw _t("desiredSize");return Tr(this._controlledTransformStream._readable._readableStreamController)}enqueue(t=void 0){if(!pt(this))throw _t("enqueue");Zo(this,t)}error(t=void 0){if(!pt(this))throw _t("error");var r;r=t,Xo(this._controlledTransformStream,r)}terminate(){if(!pt(this))throw _t("terminate");(function(t){let r=t._controlledTransformStream;Ae(r._readable._readableStreamController);let o=new TypeError("TransformStream terminated");Pr(r,o)})(this)}};function pt(e){return!!x(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof fe}function St(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function Zo(e,t){let r=e._controlledTransformStream,o=r._readable._readableStreamController;if(!$e(o))throw new TypeError("Readable side is not in a state that permits enqueue");try{xe(o,t)}catch(n){throw Pr(r,n),r._readable._storedError}(function(n){return!Qo(n)})(o)!==r._backpressure&&jt(r,!0)}function Jr(e,t){return he(e._transformAlgorithm(t),void 0,r=>{throw Xo(e._controlledTransformStream,r),r})}function _t(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Jt(e){e._finishPromise_resolve!==void 0&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function ze(e,t){e._finishPromise_reject!==void 0&&(Ne(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function Gr(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(fe.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),k(fe.prototype.enqueue,"enqueue"),k(fe.prototype.error,"error"),k(fe.prototype.terminate,"terminate"),typeof Symbol.toStringTag=="symbol"&&Object.defineProperty(fe.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});(function(){function e(u,c){return(c||"")+" (SystemJS https://github.com/systemjs/systemjs/blob/main/docs/errors.md#"+u+")"}var t=typeof Symbol!="undefined",r=typeof self!="undefined",o=typeof document!="undefined",i=r?self:global,n;if(o){var a=document.querySelector("base[href]");a&&(n=a.href)}if(!n&&typeof location!="undefined"){n=location.href.split("#")[0].split("?")[0];var s=n.lastIndexOf("/");s!==-1&&(n=n.slice(0,s+1))}var l=/\\/g;function d(u,c){if(u.indexOf("\\")!==-1&&(u=u.replace(l,"/")),u[0]==="/"&&u[1]==="/")return c.slice(0,c.indexOf(":")+1)+u;if(u[0]==="."&&(u[1]==="/"||u[1]==="."&&(u[2]==="/"||u.length===2&&(u+="/"))||u.length===1&&(u+="/"))||u[0]==="/"){var h=c.slice(0,c.indexOf(":")+1),p;if(c[h.length+1]==="/"?h!=="file:"?(p=c.slice(h.length+2),p=p.slice(p.indexOf("/")+1)):p=c.slice(8):p=c.slice(h.length+(c[h.length]==="/")),u[0]==="/")return c.slice(0,c.length-p.length-1)+u;for(var b=p.slice(0,p.lastIndexOf("/")+1)+u,I=[],j=-1,O=0;O<b.length;O++)j!==-1?b[O]==="/"&&(I.push(b.slice(j,O+1)),j=-1):b[O]==="."?b[O+1]==="."&&(b[O+2]==="/"||O+2===b.length)?(I.pop(),O+=2):b[O+1]==="/"||O+1===b.length?O+=1:j=O:j=O;return j!==-1&&I.push(b.slice(j)),c.slice(0,c.length-p.length)+I.join("")}}function _(u,c){return d(u,c)||(u.indexOf(":")!==-1?u:d("./"+u,c))}function v(u,c,h,p,b){for(var I in u){var j=d(I,h)||I,O=u[I];if(typeof O=="string"){var we=$(p,d(O,h)||O,b);we?c[j]=we:z("W1",I,O)}}}function f(u,c,h){u.imports&&v(u.imports,h.imports,c,h,null);var p;for(p in u.scopes||{}){var b=_(p,c);v(u.scopes[p],h.scopes[b]||(h.scopes[b]={}),c,h,b)}for(p in u.depcache||{})h.depcache[_(p,c)]=u.depcache[p];for(p in u.integrity||{})h.integrity[_(p,c)]=u.integrity[p]}function y(u,c){if(c[u])return u;var h=u.length;do{var p=u.slice(0,h+1);if(p in c)return p}while((h=u.lastIndexOf("/",h-1))!==-1)}function q(u,c){var h=y(u,c);if(h){var p=c[h];if(p===null)return;if(u.length>h.length&&p[p.length-1]!=="/")z("W2",h,p);else return p+u.slice(h.length)}}function z(u,c,h,p){console.warn(e(u,[h,c].join(", ")))}function $(u,c,h){for(var p=u.scopes,b=h&&y(h,p);b;){var I=q(c,p[b]);if(I)return I;b=y(b.slice(0,b.lastIndexOf("/")),p)}return q(c,u.imports)||c.indexOf(":")!==-1&&c}var M=t&&Symbol.toStringTag,E=t?Symbol():"@";function S(){this[E]={}}var C=S.prototype;C.import=function(u,c,h){var p=this;return c&&typeof c=="object"&&(h=c,c=void 0),Promise.resolve(p.prepareImport()).then(function(){return p.resolve(u,c,h)}).then(function(b){var I=P(p,b,void 0,h);return I.C||W(p,I)})},C.createContext=function(u){var c=this;return{url:u,resolve:function(h,p){return Promise.resolve(c.resolve(h,p||u))}}};function w(u){return u.id}function B(u,c,h,p){if(u.onload(h,c.id,c.d&&c.d.map(w),!!p),h)throw h}var R;C.register=function(u,c,h){R=[u,c,h]},C.getRegister=function(){var u=R;return R=void 0,u};function P(u,c,h,p){var b=u[E][c];if(b)return b;var I=[],j=Object.create(null);M&&Object.defineProperty(j,M,{value:"Module"});var O=Promise.resolve().then(function(){return u.instantiate(c,h,p)}).then(function(G){if(!G)throw Error(e(2,c));function De(Y,te){b.h=!0;var Qe=!1;if(typeof Y=="string")(!(Y in j)||j[Y]!==te)&&(j[Y]=te,Qe=!0);else{for(var Z in Y){var te=Y[Z];(!(Z in j)||j[Z]!==te)&&(j[Z]=te,Qe=!0)}Y&&Y.__esModule&&(j.__esModule=Y.__esModule)}if(Qe)for(var Mt=0;Mt<I.length;Mt++){var Or=I[Mt];Or&&Or(j)}return te}var He=G[1](De,G[1].length===2?{import:function(Y,te){return u.import(Y,c,te)},meta:u.createContext(c)}:void 0);return b.e=He.execute||function(){},[G[0],He.setters||[],G[2]||[]]},function(G){throw b.e=null,b.er=G,G}),we=O.then(function(G){return Promise.all(G[0].map(function(De,He){var Y=G[1][He],te=G[2][He];return Promise.resolve(u.resolve(De,c)).then(function(Qe){var Z=P(u,Qe,c,te);return Promise.resolve(Z.I).then(function(){return Y&&(Z.i.push(Y),(Z.h||!Z.I)&&Y(Z.n)),Z})})})).then(function(De){b.d=De})});return b=u[E][c]={id:c,i:I,n:j,m:p,I:O,L:we,h:!1,d:void 0,e:void 0,er:void 0,E:void 0,C:void 0,p:void 0}}function g(u,c,h,p){if(!p[c.id])return p[c.id]=!0,Promise.resolve(c.L).then(function(){return(!c.p||c.p.e===null)&&(c.p=h),Promise.all(c.d.map(function(b){return g(u,b,h,p)}))}).catch(function(b){throw c.er||(c.e=null),b})}function W(u,c){return c.C=g(u,c,c,{}).then(function(){return L(u,c,{})}).then(function(){return c.n})}var T=Object.freeze(Object.create(null));function L(u,c,h){if(h[c.id])return;if(h[c.id]=!0,!c.e){if(c.er)throw c.er;return c.E?c.E:void 0}var p=c.e;c.e=null;var b;if(c.d.forEach(function(j){try{var O=L(u,j,h);O&&(b=b||[]).push(O)}catch(we){throw c.er=we,we}}),b)return Promise.all(b).then(I);return I();function I(){try{var j=p.call(T);if(j)return j=j.then(function(){c.C=c.n,c.E=null},function(O){throw c.er=O,c.E=null,O}),c.E=j;c.C=c.n,c.L=c.I=void 0}catch(O){throw c.er=O,O}finally{}}}i.System=new S;var Q=Promise.resolve(),F={imports:{},scopes:{},depcache:{},integrity:{}},Le=o;C.prepareImport=function(u){return(Le||u)&&(It(),Le=!1),Q},C.getImportMap=function(){return JSON.parse(JSON.stringify(F))},o&&(It(),window.addEventListener("DOMContentLoaded",It)),C.addImportMap=function(u,c){f(u,c||n,F)};function It(){[].forEach.call(document.querySelectorAll("script"),function(u){if(!u.sp){if(u.type==="systemjs-module"){if(u.sp=!0,!u.src)return;System.import(u.src.slice(0,7)==="import:"?u.src.slice(7):_(u.src,n)).catch(function(h){if(h.message.indexOf("https://github.com/systemjs/systemjs/blob/main/docs/errors.md#3")>-1){var p=document.createEvent("Event");p.initEvent("error",!1,!1),u.dispatchEvent(p)}return Promise.reject(h)})}else if(u.type==="systemjs-importmap"){u.sp=!0;var c=u.src?(System.fetch||fetch)(u.src,{integrity:u.integrity,priority:u.fetchPriority,passThrough:!0}).then(function(h){if(!h.ok)throw Error(h.status);return h.text()}).catch(function(h){return h.message=e("W4",u.src)+`
`+h.message,console.warn(h),typeof u.onerror=="function"&&u.onerror(),"{}"}):u.innerHTML;Q=Q.then(function(){return c}).then(function(h){sn(F,h,u.src||n)})}}})}function sn(u,c,h){var p={};try{p=JSON.parse(c)}catch(b){console.warn(Error(e("W5")))}f(p,h,u)}if(o){window.addEventListener("error",function(u){Cr=u.filename,qr=u.error});var an=location.origin}C.createScript=function(u){var c=document.createElement("script");c.async=!0,u.indexOf(an+"/")&&(c.crossOrigin="anonymous");var h=F.integrity[u];return h&&(c.integrity=h),c.src=u,c};var Bt,Er,Ft={},ln=C.register;C.register=function(u,c){if(o&&document.readyState==="loading"&&typeof u!="string"){var h=document.querySelectorAll("script[src]"),p=h[h.length-1];if(p){p.src,Bt=u;var b=this;Er=setTimeout(function(){Ft[p.src]=[u,c],b.import(p.src)})}}else Bt=void 0;return ln.call(this,u,c)};var Cr,qr;C.instantiate=function(u,c){var h=Ft[u];if(h)return delete Ft[u],h;var p=this;return Promise.resolve(C.createScript(u)).then(function(b){return new Promise(function(I,j){b.addEventListener("error",function(){j(Error(e(3,[u,c].join(", "))))}),b.addEventListener("load",function(){if(document.head.removeChild(b),Cr===u)j(qr);else{var O=p.getRegister(u);O&&O[0]===Bt&&clearTimeout(Er),I(O)}}),document.head.appendChild(b)})})},C.shouldFetch=function(){return!1},typeof fetch!="undefined"&&(C.fetch=fetch);var un=C.instantiate,cn=/^(text|application)\/(x-)?javascript(;|$)/;C.instantiate=function(u,c,h){var p=this;return this.shouldFetch(u,c,h)?this.fetch(u,{credentials:"same-origin",integrity:F.integrity[u],meta:h}).then(function(b){if(!b.ok)throw Error(e(7,[b.status,b.statusText,u,c].join(", ")));var I=b.headers.get("content-type");if(!I||!cn.test(I))throw Error(e(4,I));return b.text().then(function(j){return j.indexOf("//# sourceURL=")<0&&(j+=`
//# sourceURL=`+u),(0,eval)(j),p.getRegister(u)})}):un.apply(this,arguments)},C.resolve=function(u,c){return c=c||!1||n,$(F,d(u,c)||u,c)||fn(u,c)};function fn(u,c){throw Error(e(8,[u,c].join(", ")))}var dn=C.instantiate;C.instantiate=function(u,c,h){var p=F.depcache[u];if(p)for(var b=0;b<p.length;b++)P(this,this.resolve(p[b],u),u);return dn.call(this,u,c,h)},r&&typeof importScripts=="function"&&(C.instantiate=function(u){var c=this;return Promise.resolve().then(function(){return importScripts(u),c.getRegister(u)})})})();(function(){function e(t,r){return(r||"")+" (SystemJS Error#"+t+" https://github.com/systemjs/systemjs/blob/main/docs/errors.md#"+t+")"}(function(t){function r(){throw Error(e(5,"AMD require not supported."))}var o=["require","exports","module"];function i(n,a){for(var s={},l={exports:s},d=[],_=[],v=0,f=0;f<n.length;f++){var y=n[f],q=_.length;y==="require"?(d[f]=r,v++):y==="module"?(d[f]=l,v++):y==="exports"?(d[f]=s,v++):$(f),v&&(n[q]=y)}v&&(n.length-=v);var z=a;return[n,function(M,E){return M({default:s,__useDefault:!0}),{setters:_,execute:function(){l.uri=E.meta.url;var S=z.apply(s,d);S!==void 0&&(l.exports=S),M(l.exports),M("default",l.exports)}}}];function $(M){_.push(function(E){d[M]=E.__useDefault?E.default:E})}}t.define=function(n,a,s){var l=typeof n=="string",d=l?n:null,_=l?a:n,v=l?s:a,f,y;if(Array.isArray(_))f=_,y=v;else if(typeof _=="object")f=[],y=function(){return _};else if(typeof _=="function")f=o,y=_;else throw Error(e(9,"Invalid call to AMD define()"));var q=i(f,y);l&&(System.registerRegistry?(System.registerRegistry[d]=q,System.register(d,q[0],q[1])):console.warn(e("W6","Include named-register.js for full named define support"))),System.register(q[0],q[1])},t.define.amd={}})(typeof self!="undefined"?self:global)})();var H=self;H.globalThis=H;var nn=typeof importScripts!="undefined"?" (worker)":"";console.time("polyfills"+nn);try{H.window=H}catch(e){}var zt=H.Worker;H.Worker=function(t){return new zt(t)};H.Worker.native=zt;H.Worker.prototype=zt.prototype;Object.assign(H.Worker,zt);Object.hasOwnProperty("getOwnPropertyDescriptors")||Object.defineProperty(Object,"getOwnPropertyDescriptors",{configurable:!0,writable:!0,value:function(t){return Reflect.ownKeys(t).reduce((r,o)=>Object.defineProperty(r,o,{configurable:!0,enumerable:!0,writable:!0,value:Object.getOwnPropertyDescriptor(t,o)}),{})}});var rn,on;{if((rn=String.prototype).trimEnd||(rn.trimEnd=String.prototype.trimRight),typeof H.queueMicrotask!="function"&&(H.queueMicrotask=function(t){Promise.resolve().then(t).catch(r=>setTimeout(()=>{throw r}))}),self.ReadableStream||(self.ReadableStream=N),self.Blob){let t=Blob.prototype;t.arrayBuffer||(t.arrayBuffer=function(){return new Response(this).arrayBuffer()}),t.stream||(t.stream=function(){let o=this,i=0;return new N({pull:function(n){var a=o.slice(i,i+524288);return a.arrayBuffer().then(function(s){i+=s.byteLength;var l=new Uint8Array(s);n.enqueue(l),i==o.size&&n.close()})}})})}let e=self.postMessage;if(self.postMessage=function(){var r=arguments;let t=0;try{e.apply(this,arguments)}catch(o){jr(this,null,function*(){for(;t<5;){if(yield new Promise(i=>setTimeout(i,0)),t++,t>2)try{let i=[...r];i[0]=JSON.parse(JSON.stringify(r[0])),e.apply(this,i);break}catch(i){continue}try{e.apply(this,r);break}catch(i){}}})}},Promise.prototype.finally||(Promise.prototype.finally=function(t){if(typeof t!="function")return this.then(t,t);let r=this.constructor||Promise;return this.then(o=>r.resolve(t()).then(()=>o),o=>r.resolve(t()).then(()=>{throw o}))}),H.onerror=(...t)=>{let r=t[4];console.error(...t),r&&typeof window!="undefined"&&"__reportError__"in window&&typeof window.__reportError__=="function"&&window.__reportError__(r)},H.Document){if(function(t){if(t)return;function r(){return document.contains(this)}Object.defineProperty(Node.prototype,"isConnected",{get:r})}("isConnected"in Node.prototype),HTMLElement.prototype.nativeFocus===void 0){let t=function(r){var o=r.getBoundingClientRect();return o.top>=0&&o.left>=0&&o.bottom<=window.innerHeight&&o.right<=window.innerWidth};Bn=t,HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus,Uo=function(r){for(var o=r.parentNode,i=[],n=document.scrollingElement||document.documentElement;o&&o!==n;)(o.offsetHeight<o.scrollHeight||o.offsetWidth<o.scrollWidth)&&i.push([o,o.scrollTop,o.scrollLeft]),o=o.parentNode;return o=n,i.push([o,o.scrollTop,o.scrollLeft]),i},en=function(r){for(var o=0;o<r.length;o++)r[o][0].scrollTop=r[o][1],r[o][0].scrollLeft=r[o][2];r=[]},tn=function(r){if(r&&r.preventScroll&&!t(this)){var o=Uo(this);this.nativeFocus(),Promise.resolve().then(()=>{en(o)})}else this.nativeFocus()},HTMLElement.prototype.focus=tn}(function(t){function r(n){let a=document.createDocumentFragment();return n.forEach(s=>a.appendChild(s instanceof Node?s:document.createTextNode(String(s)))),a}let{defineProperty:o}=Object;function i(n,a,s){o(n,a,{configurable:!0,enumerable:!0,writable:!0,value:s})}t.forEach(function(n){n&&(n.hasOwnProperty("append")||i(n,"append",function(...s){this.appendChild(r(s))}),n.hasOwnProperty("prepend")||i(n,"prepend",function(...s){this.insertBefore(r(s),this.firstChild)}),n.hasOwnProperty("after")||i(n,"after",function(...s){var l=document.createDocumentFragment();s.forEach(function(d){l.appendChild(d instanceof Node?d:document.createTextNode(String(d)))}),this.parentNode.insertBefore(l,this.nextSibling)}))})})([Element.prototype,Document.prototype,DocumentFragment.prototype])}if(H.NodeList&&((on=NodeList.prototype).forEach||(on.forEach=Array.prototype.forEach)),typeof PromiseRejectionEvent=="undefined"){let r=function(i,n){let a=new Event("unhandledrejection",{bubbles:!1,cancelable:!0});Object.defineProperties(a,{promise:{value:i,writable:!1},reason:{value:n,writable:!1}}),H.dispatchEvent(a),console.error(i,n,typeof n=="object"&&"stack"in n&&n.stack)};Fn=r;let t=H.Promise,o=function(i){if(!(this instanceof o))throw new TypeError("Cannot call a class as a function");let n=new t((a,s)=>{let l=d=>(setTimeout(()=>{n.handled!==!0&&r(n,d)},0),s(d));try{return i(a,l)}catch(d){return l(d)}});return n.__proto__=o.prototype,n};o.__proto__=t,o.prototype.__proto__=t.prototype,o.prototype.then=function(i,n){return t.prototype.then.call(this,i,n&&(a=>(this.handled=!0,n(a))))},o.prototype.catch=function(i){return t.prototype.catch.call(this,i&&(n=>(this.handled=!0,i(n))))},H.Promise=o}H.Object.fromEntries=function(r){return[...r].reduce((o,[i,n])=>(o[i]=n,o),{})},H.Promise.allSettled=H.Promise.allSettled||(t=>Promise.all(t.map(r=>r.then(o=>({status:"fulfilled",value:o})).catch(o=>({status:"rejected",reason:o})))))}var Uo,en,tn,Bn,Fn;console.timeEnd("polyfills"+nn);})();
/*! Bundled license information:

web-streams-polyfill/dist/ponyfill.mjs:
  (**
   * @license
   * web-streams-polyfill v4.1.0
   * Copyright 2024 Mattias Buelens, Diwank Singh Tomer and other contributors.
   * This code is released under the MIT license.
   * SPDX-License-Identifier: MIT
   *)

systemjs/dist/s.js:
  (*!
   * SJS 6.15.1
   *)
*/
